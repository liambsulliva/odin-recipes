---
import { Icon } from 'astro-icon/components';
---
<header class='relative flex justify-between items-center dark:bg-[#1e1e1e] h-12 w-full p-8 font-bold z-10'>
    <a class='max-md:hidden text-lg mr-auto m-2' href='/'>Recipes</a>
    <a class="md:hidden" href="/"><Icon name="material-symbols:dining-rounded" size={36} /></a>
    <div class="flex flex-row gap-5 items-center font-medium">
        <Icon id="darkModeToggle" class="cursor-pointer" name="material-symbols:dark-mode" size={24} />
        <Icon id="searchModal" class="cursor-pointer" name="material-symbols:search" size={24} />
    </div>
</header>
<script type="module">
    // Run darkmode toggle client-side
    const toggleDarkMode = () => {
        document.documentElement.classList.toggle('dark');
        localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
    }
    document.getElementById('darkModeToggle').addEventListener('click', toggleDarkMode);

    // Retrieve dark mode preference from localStorage
    const darkModePreference = localStorage.getItem('darkMode');
    if (darkModePreference === 'true') {
        document.documentElement.classList.add('dark');
    }
</script>

